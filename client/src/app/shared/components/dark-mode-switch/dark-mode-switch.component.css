:host {
    position: absolute;
    top: 1rem;
    right: 1.5rem;
}

.toggle-theme-btn {
    --toggle-theme-btn__size: 2rem;
    --icon__fill: hsl(0, 0%, 23%);
    --icon__fill--hover: hsl(0, 0%, 13%);
}

:host-context(body.theme--dark) .toggle-theme-btn  {
    --icon__fill: hsl(12, 20%, 75%);
    --icon__fill--hover: hsl(12, 20%, 95%);
}

.toggle-theme-btn {
    background-color: transparent;
    border: none;
    padding: 0;

    inline-size: var(--toggle-theme-btn__size);
    block-size: var(--toggle-theme-btn__size);
    aspect-ratio: 1;
    border-radius: 50%;

    cursor: pointer;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    outline-offset: 5px;
}

@media (hover: none) {

    .toggle-theme-btn {
        --toggle-theme-btn__size: 48px;
    }

}

.toggle-theme-btn > svg {
    inline-size: 100%;
    block-size: 100%;
    stroke-linecap: round;
}

.sun-moon-icon > :is(.sun, .moon, .sun-beams) {
    transform-origin: center center;
}


.sun-moon-icon :is(.moon, .sun) {
    fill: var(--icon__fill);
}

.sun-moon-icon .sun-beams {
    stroke: var(--icon__fill);
}

.toggle-theme-btn:is(:hover, :focus-visible) :is(.sun, .moon) {
    fill: var(--icon__fill--hover);
}

.toggle-theme-btn:is(:hover, :focus-visible) .sun-beams {
    fill: var(--icon__fill--hover);
}

@supports (scale: 1.15) {

    :host-context(body.theme--dark) .sun-moon-icon .sun {
        scale: 1.15;
    }

}

@supports not (scale: 1.15) {

    :host-context(body.theme--dark) .sun-moon-icon .sun {
        transform: scale(1.15);
    }

}

:host-context(body.theme--dark) .sun-moon-icon .sun-beams {
    opacity: 0;
}

@supports (translate: -7px) {
    
    :host-context(body.theme--dark) .sun-moon-icon .sun-beams > circle {
        translate: -7px;
    }

}

@supports not (translate: -7px) {

    :host-context(body.theme--dark) .sun-moon-icon .sun-beams > circle {
        transform: translateX(-7px);
    }

}

@supports (rotate: z -25deg) {

    :host-context(body.theme--dark) .sun-moon-icon .sun-beams {
        rotate: z -25deg;
    }
    
}

@supports not (rotate: z -25deg) {

    :host-context(body.theme--dark) .sun-moon-icon .sun-beams {
        transform: rotateZ(-25deg);
    }
    
}

@supports (translate: -7px) {

    :host-context(body.theme--dark) .sun-moon-icon .moon > circle {
        translate: -7px;
    }

}

@supports not (translate: -7px) {

    :host-context(body.theme--dark) .sun-moon-icon .moon > circle {
        transform: translateX(-7px);
    }

}

@media (prefers-reduced-motion: no-preference) {

    .sun-moon-icon .sun {
        transition: 
            scale .5s cubic-bezier(.5,1.25,.75,1.25),
            transform .5s cubic-bezier(.5,1.25,.75,1.25);
    }

    :host-context(body.theme--dark) .sun-moon-icon .sun {
        transition-duration: .25s;
        transition-timing-function: cubic-bezier(.25,0,.3,1);
    }

    .sun-moon-icon .sun-beams {
        transition: 
            rotate .5s cubic-bezier(.5,1.5,.75,1.25),
            transform .5s cubic-bezier(.5,1.5,.75,1.25),
            opacity .5s cubic-bezier(.25,0,.3,1);
    }

    :host-context(body.theme--dark) .sun-moon-icon :is(.sun-beams) {
        transition-duration: .15s;
    }

    .sun-moon-icon .moon > circle {
        transition:
            translate .25s cubic-bezier(.9,0,.1,1),
            transform .25s cubic-bezier(.9,0,.1,1);
    }

    :host-context(body.theme--dark) .sun-moon-icon .moon > circle {
        transition-delay: 0;
        transition-duration: .25s;
    }

}